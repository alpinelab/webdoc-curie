!function(t){"function"==typeof define&&define.amd?define(jQuery||["jquery"],t):t("object"==typeof exports?jQuery||require("jquery"):jQuery)}(function(t){function e(e,i){function s(){return w.options.dotsSnap&&u(),M.append(b.first().clone()),M.css("width",H.width*(b.length+1)),a(),C.css({top:-Math.cos(r(45))*w.options.radius+(S.height/2-j.height/2),left:Math.sin(r(45))*w.options.radius+(S.width/2-j.width/2)}),M.prepend('<li id="temp"><span>GUERIR LE REGARD</span></li>'),w}function a(){var n=E?"touchstart":"mousedown";E?(e[0].ontouchstart=v,e[0].ontouchmove=f,e[0].ontouchend=m):C.bind(n,v),w.options.dotsSnap&&e.delegate(".dot",n,function(e){return e.preventDefault(),e.stopImmediatePropagation(),0===D&&w.move(t(this).text()-1),!1})}function r(t){return t*(Math.PI/180)}function d(t){return 180*t/Math.PI}function u(){var n=document.createDocumentFragment();A.remove(),b=b.remove(),b.each(function(e,o){var i=A.clone(),s=w.options.dots?360*e/b.length:parseInt(t(o).attr("data-degrees"),10),a={top:-Math.cos(r(s))*w.options.radius+S.height/2-I.height/2,left:Math.sin(r(s))*w.options.radius+S.width/2-I.width/2};i.addClass(t(o).attr("data-classname")),i.css(a),y.push({angle:s,slide:o,dot:i}),n.appendChild(i[0])}),y.sort(function(t,e){return t.angle-e.angle}),t.each(y,function(e,n){t(n.dot).addClass("dot-"+(e+1)),M.append(n.slide)}),e.append(n),A=e.find(".dot"),A.hide()}function h(t,e){var n,o,i;return t>e?(n=t-e,o=-(e+360-t)):(n=t+360-e,o=-(e-t)),i=n<Math.abs(o)?n:o,[i,o,n]}function l(e){var n=9999,o=9999,i=9999,s=0,a=0,r=0;return t.each(y,function(t,d){var u=h(d.angle,e);Math.abs(u[0])<Math.abs(i)&&(i=u[0],r=t),Math.abs(u[1])<Math.abs(n)&&(n=u[1],s=t),Math.abs(u[2])<Math.abs(o)&&(o=u[2],a=t)}),[[r,s,a],[i,n,o]]}function c(t){return 0>t?360+t%-360:t%360}function p(t,e,n){D+=1;var o=c(Math.round(D*t+w.angleCurrent));g(o,D===n),n>D?p(t,e,n):(D=0,w.angleCurrent=e)}function f(t){var n=e.offset(),o={left:t.pageX-n.left-S.width/2,top:t.pageY-n.top-S.height/2};return w.angleCurrent=c(d(Math.atan2(o.left,-o.top))),g(w.angleCurrent),!1}function g(t,n){w.options.dots?M.css("left",-(t/360*H.width*b.length)):(closestSlidesAndAngles=l(t),closestSlides=closestSlidesAndAngles[0],closestAngles=closestSlidesAndAngles[1],M.css("left",-(closestSlides[1]*H.width+Math.abs(closestAngles[1])*H.width/(Math.abs(closestAngles[1])+Math.abs(closestAngles[2]))))),C.css({top:-Math.cos(r(t))*w.options.radius+(S.height/2-j.height/2),left:Math.sin(r(t))*w.options.radius+(S.width/2-j.width/2)}),n&&e.trigger("move",[b[w.slideCurrent],w.slideCurrent])}function m(e){return t(e.target).hasClass("dot")?!1:(e.preventDefault(),E||(t(document).unbind("mousemove mouseup"),C.unbind("mouseup")),void(w.options.dotsSnap&&(w.options.dotsHide&&A.fadeOut("slow"),w.move(l(w.angleCurrent)[0][0]))))}function v(e){return e.preventDefault(),t("#temp").hide(),t(e.target).hasClass("dot")?!1:(E||(t(document).mousemove(f),t(document).mouseup(m),C.mouseup(m)),void(w.options.dotsSnap&&w.options.dotsHide&&A.fadeIn("slow")))}this.options=t.extend({},o,i),this._defaults=o,this._name=n;var w=this,M=(e.find(".viewport"),e.find(".overview")),b=M.children(),C=e.find(".thumb"),A=e.find(".dot"),y=(b.find("a"),[]),S={width:e.outerWidth(!0),height:e.outerHeight(!0)},H={width:b.first().outerWidth(!0),height:b.first().outerHeight(!0)},j={width:C.outerWidth(!0),height:C.outerHeight(!0)},I={width:A.outerWidth(),height:A.outerHeight()},D=0,E="ontouchstart"in document.documentElement;return this.slideCurrent=0,this.angleCurrent=10,this.move=function(t){var e=y[t]&&y[t].angle||0,n=h(e,w.angleCurrent)[0],o=Math.ceil(Math.abs(n)/10),i=n/o||0;return w.slideCurrent=t,p(i,e,o),BV.getPlayer()&&BV.show(playlist[t],{ambient:!0}),w},s()}var n="tinycircleslider",o={dots:!0,dotsSnap:!1,dotsHide:!0,radius:140};t.fn[n]=function(o){return this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new e(t(this),o))})}});